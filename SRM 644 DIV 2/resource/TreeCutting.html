<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Wolf Sothe has an undirected tree with N vertices, numbered 0 through N-1.
You are given the description of the tree as a int[] <b>par</b> with N-1 elements.
For each valid i, the tree contains the edge between vertices (i+1) and <b>par</b>[i].
(Note that for your convenience <b>par</b>[i] is always smaller than i+1.)<br></br><br></br>

Some of the vertices contain a positive integer, others are empty.
You are given a int[] <b>num</b> with N elements.
For each valid i, <b>num</b>[i] is either the number written in vertex i, or -1 if vertex i is empty.<br></br><br></br>

Sothe can modify the tree by cutting some of its edges.
Sothe's goal is to reach a configuration with the following properties:
<ul>
<li>
Each connected component contains exactly one vertex with an integer.
</li>
<li>
The number of vertices in each component is equal to the only integer in that component.
</li>
</ul><br></br><br></br>

Return "POSSIBLE" (quotes for clarity) if Sothe can reach some configuration with the desired properties by cutting zero or more edges.
Otherwise, return "IMPOSSIBLE".
Note that the return value is case-sensitive.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>TreeCutting</td></tr><tr><td>Method:</td><td>can</td></tr><tr><td>Parameters:</td><td>int[], int[]</td></tr><tr><td>Returns:</td><td>String</td></tr><tr><td>Method signature:</td><td>String can(int[] par, int[] num)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td>N will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>par</b> will contain exactly N-1 elements.</td></tr><tr><td align="center" valign="top">-</td><td>For each i, the i-th element of <b>par</b> will be between 0 and i, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>num</b> will contain exactly N elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>num</b> will be either -1 or between 1 and N, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,2,2,2}</pre></td></tr><tr><td><pre>{2,-1,-1,4,-1,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;POSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">This is a tree with 6 vertices.
The edges are 1-0, 2-1, 3-2, 4-2, and 5-2.
Vertex 0 contains the integer 2, vertex 3 contains the integer 4, and all other vertices are empty.<br></br><br></br>

Sothe can reach his goal by cutting the edge 1-2.
This will produce two components.
In one component we have the vertices {0,1}.
One of them contains the number 2 (which is also the size of this component) and the other is empty.
In the other component we have the vertices {2,3,4,5}.
One of them contains the number 4 (which is also the size of this component) and the other three are empty.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,2,2,2}</pre></td></tr><tr><td><pre>{3,-1,-1,3,-1,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;IMPOSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,2,2,2}</pre></td></tr><tr><td><pre>{2,-1,-1,3,-1,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;IMPOSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The tree has 6 vertices but in any valid final configuration the components must have 2+3 = 5 vertices, which is impossible.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,2,2,1,5,2,6,6}</pre></td></tr><tr><td><pre>{-1,-1,2,-1,1,3,-1,1,1,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;POSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,2,2,1,5,2,6,6}</pre></td></tr><tr><td><pre>{-1,-1,2,-1,1,-1,3,1,1,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;IMPOSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,0,0,1,1,2,3,3,3,4,4,4,5,9,9,14,14,14,16,20}</pre></td></tr><tr><td><pre>{-1,3,-1,-1,-1,-1,-1,1,1,-1,-1,-1,3,1,-1,1,8,-1,-1,4,-1,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;POSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,0,0,1,1,2,3,3,3,4,4,4,5,9,9,14,14,14,16,20}</pre></td></tr><tr><td><pre>{-1,2,-1,-1,-1,-1,-1,1,1,-1,-1,-1,3,1,-1,1,9,-1,-1,4,-1,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;IMPOSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">7)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1,1}</pre></td></tr><tr><td><pre>{-1,-1,5,-1,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;POSSIBLE&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">No cutting necessary.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>